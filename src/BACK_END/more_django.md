#More About Django
上面，我們用簡單的幾個指令跟程式碼，成功的把首頁放上我們的server上了。那剛剛到底發生什麼事呢？我們大概會從幾個地方開始講解

* DJANGO 到底幫我做什麼
* views & templates 是什麼？
* DJANGO 的MTV模式

#在開始之前
我們這份課程是給第一次學習寫程式的初學者，透過簡單的JS來大略了解寫程式到底是什麼一件事情，因此不會著重在Python語法上。如果在這頁內容中看不懂特定幾行python的程式碼，我們希望您先試著了解這個框架的架構與網頁概念為主，可以先暫時把這些程式碼當作是筆記或是路標之類較無意義的文字。希望您在初步了解網頁架構，透過JS了解程式邏輯之後，再回頭看看python。至少在這份教學出現所有python的程式都是非常粗淺的，只要對程式邏輯有一點了解後，相信您對於理解裡面的程式碼是完全沒問題的。再推薦一次[codecademy](https://www.codecademy.com/learn/python)是一個對初學者非常友善且有趣的教學網頁，希望大家在這份閱讀這份教學之後（或是現在）去codecademy玩玩看。
#DJANGO 到底是什麼
還記得我們說過，Django是一個用python寫的框架嗎？
##框架是什麼？
再回到那個老師的例子好了，假設今天你是一個老師，你的責任是要教會你的學生，那這個時候你要做得真的太多了。首先你要會出作業，會教書，還要開始設計課本這些先不說。那你要去哪裡找學生？我們把學校比喻成網路，那這個學校可不是你隨便進來就可以當老師了，你要先帶著你的教師證之類的，網路的世界也是一樣，你今天要開一個網頁，然後把知道你ip（網址）的users接過來也不是一行指令就可以解決的。就像老師只要會教書就好，幹麻一定要會指揮交通？學生的校車要怎麼開老師就算不了解一樣不影響教書，要寫一個網頁，也不一定要每件事都自己來。

那這個框架我們就可以把它想像成是師範大學，又或者是校方的行政體系，它幫你做了很多，它跟你說當一個好老師要做哪些事情，在幫你找好學校，幫你買校車在學生，幫你指揮交通確保每個學生都可以安全得到達教室，和回家。DJANGO是由一群程式設計師共同設計，透過社群力量大家一起維護並且貢獻，當你越寫越厲害，並且發現DJANGO有可以更好的地方，你也可以回過頭成為貢獻者，[DJANO](https://www.djangoproject.com/)網站上有很詳細的介紹與教學，大家不用急著連過去看，先讓我們對框架有更深的了解。就像教育體系可能最流行的有分美式或歐式，網頁框架也是百家爭鳴，DJANO算是裡面很熱門的一種，當然不一定是絕對的，舉比較有名的還有Ruby on Rails or Node.js 加上Django on Python 算是這類框架中的人氣王，各有優劣，各有一群擁護者，如果有興趣不坊google一樣可以看到大家在網路上吵得不可開交，不過我們知道得是，不管選上面框架，這都是由一群很厲害的程式設計師設計，並且也有更大一群很厲害的程式設計師在用，用這三種框架設計出來的網頁服務更是不勝枚舉。像我們這樣作為一個初學者，只要選其中一種，認真學習就可以了。


今天我們的教育系統有了一套流程或是SOP，你今天從師大畢業，考過試，接下來就照著體制兩學期，平日教書，假日備課。如果你要出作業，可能出版社整理好的題庫可以自己選，不滿意在改;如果你上課要用講義，書店還有很多已經寫好得教學講義。這就是使用主流的教育系統的好處，你可以照著這套SOP教學，並且相信這套由學者爭吵修正多年的SOP可以教出最好的學生。但是要記住，就像再好的教育系統配上爛老師一樣沒辦法，就算你用最好的框架，如果你連課本都看不懂，那你的學生一定會過得很慘。當然如果你是一個有經驗且有想法的老師，你可以根據自己的需求修改這套SOP，這些都是容許的，但作為初學者，我們還是先從了解這套框架開始吧。
##views和Templates	
還記得在上一頁，我們改了哪些東西嗎？settings.py是為了安裝新的app，就先不談。
* urls.py
* templates/home.html
* pages/views.py
 ###urls
urls.py概念上比較單純，一個網址進來它會決定要怎麼去處理這個網址。你可以把他想成是路標，又或者回到老師的例子，這個網址就把它當作是學生的身份，今天是想學數學的就讓他上數學課，想上國文就上國文課。還記得 ``` url(r'^$',home) ```這邊嗎？如果網址是符合r'^$'這個格式它就會呼叫home。今天你想新增其他的網頁就直接在下面加``` url(r'^MySecondPage$',second) ```那網址後面接MySecondPage的就會被導向second這個view。
###views
首先view到底是什麼，照慣例我們還是先回到老師的例子。今天有一個學生跑過來說他要上數學課，你要做那些事情？
合理的情況下，你應該（可能）會做這些


* 先看看這學生是誰  （如果進到國文教室說要上數學，就直接叫他回家吧 **這是很常發生的，譬如說FB登入密碼不對就不能進去。**
* 確認是自己的學生之後，先看一下他上次考試的成績，在決定他這次要上什麼課（寫什麼作業） **FB你上次發了哪些文？你好友有誰？這些都是存在server資料庫裡的**
* 拿到他的考卷，改完之後還給他（如果這次考試要算分，那還要紀錄下來） **你發文按送出後如果沒有存下來，那就麻煩大了**

這些零零總總其實都是在這個函式完成的，我們透過這個用戶傳過來的request決定它會得到什麼response。
```
def home(request):
    return render(request,'home.html')
```
這是最單純的view，不管誰進來，我什麼都不做，全部都發home.html給他。那如果要區分一下用戶給它不一樣的網頁你可能可以這樣：
```
def home2(request,identity):
    if identity=="1":
       return render(request,'home.html')
    else:
       return render(request,'home2.html')
```
這就是檢查如果identity等於2時我就給它home.html，不然我就給它home2.html。**注意：這個view還有多一個參數```identity```所以如果你直接把原本的程式碼改成這個會出錯，這在url那邊就會多給它一個資料```identity```。**
```
url(r'^(?P<identity>[0-9]{1})',home2),
```
把urls.py裡加上這個 *記得每一個urls要用逗號隔開，一樣要在上面import*，之後如果在後面加上數字，就會被連到第二個view
view還可以再把參數傳給前端。
```
def home(request,identity):
    if identity==1:
       return render(request,'home.html',{"identity":identity})
    else:
       return render(request,'home2.html',{"identity":5})
```
這樣你寫前端時（其實是template）可以收到 ```identity``` 這個變數。 ** ```{
"identity":identity}```這邊是把後端的identity傳給前端，你可以這樣```{"variable":identity}```那在前端收到的變數名子就是 ``` "variable" ``` **


所以讓我們做個小結，view就是要決定 **使用者看到什麼**。那view決定使用者看到什麼之後，這些資料要怎麼呈現呢？就要再交給```template``` **像我們這邊就是直接送給它一個html**當然template還不只這些，你可以在裡面寫一些template的邏輯，DJANGO在送出去這份html之前會先做過處理在給使用者（瀏覽器）。**像剛剛那個```"identity"```就可以在template裡面使用的**

假設今天你的部落格有十篇文章，你就能把十篇都從資料庫裡拿出來，在丟給templates幫忙處理，這樣你真正的html就只需要寫一份就可以靠template幫忙做成十篇文章。**而有時候你連文章有幾篇都不知道，template就很重要了**
至於要怎麼使用template語言就先不要著急（其實就是在html裡面在加一點點東西而已），我們遇到再慢慢學。

~~~
